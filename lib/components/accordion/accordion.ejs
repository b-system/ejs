<%
    /**
    * @required {array} idAccordion
    * @required {array} items
    */

    const props = {
        idAccordion: idAccordion,
        items: items,
        style: typeof style !== 'undefined' ? style : 'line',
    }

    function validate( props ) {
        if(!['line', 'bg'].includes(props.style)) {
        throw new Error(`The style ${props.style} doesn't exists`)
        }
        const keys = props.items.map( ( item ) => Object.keys( item ).filter( ( key ) => ! [ 'idItem', 'label', 'content', 'isOpen' ].includes( key ) ) ).flat()
        if ( 0 < keys.length ) {
            throw new Error( `The "${keys.join( ', ' )}" key/s is/are invalid` )
        }
    }
    validate( props )
%>

<div id="<%= props.idAccordion %>" class="accordion mb-5 accordion-<%= props.style %>-style">
    <% props.items.forEach( ( item ) => { %>
        <%- include( `${component}/accordion/accordion-item`, { idAccordion, ...item } ) %>
    <% } ) %>
</div>