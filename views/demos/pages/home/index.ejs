<%- include(`${view}/demos/layout`) %>
<%- contentFor('header') %>
<%
const headerConfig = {
    items: navigation,
    justify: 'right',
    size: 'full',
    isSticky: true,
    hasBackground: false,
    hasLightNav: true,
    mainHeader: true,
    buttons: [
        {
            label: 'Purchase B_system',
            mobileIcon: 'cart',
            variant: 'glass'
        }
    ]
}
%>
<%- include(`${component}/header/header`, { ...headerConfig, logo: 'light' }) %>


<%- contentFor('body') %>

<!-- MARQUEE HERO -->
<%
const demoHomeMarqueeHeroParams = {
    isDark: true,
    interactiveButtonCssClass: 'bg-light-100',
    slides: [
        {
            img: {
                src: 'marquee_extended-01',
                alt: 'Marquee image'
            },
            title: "Start your digital business",
            text: 'Promote your business with B_system. The web design tool with the most complete design system.',
            btn: {
                label: 'Start with B System',
                isCTA: true,
                icon: 'links',
            },
            quote: 'People ignore design that ignores people',
        },
        {
            img: {
                src: 'marquee_extended-02',
                alt: 'Marquee image 2'
            },
            title: "Work in an agile way",
            text: 'B_system will help you create responsive web pages with very little effort.',
            btn: {
                label: 'Start with B System',
                isCTA: true,
                icon: 'links',
                iconPosition: 'after'
            },
            quote: 'People ignore design that ignores people',
        },
        {
            img: {
                src: 'marquee_extended-03',
                alt: 'Marquee image 3'
            },
            title: "Enjoy the great result",
            text: 'It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.',
            btn: {
                label: 'Start with B System',
                isCTA: true,
                icon: 'links',
                iconPosition: 'after'
            },
            quote: 'People ignore design that ignores people',
        },
    ]
}
%>
<%- include(`${module}/marquee/extended/extended`, demoHomeMarqueeHeroParams) %>
<!-- END: MARQUEE HERO -->

<!-- BASIC CONTENT HEADER IMAGE -->
<%
const demoHomeBasicContentHeaderImageParams = {
    img: {
        src: 'basic-content_image.png',
        alt: 'Header image'
    },
    text: 'B_system is a multipurpose HTML5 template that will help you build responsive web pages with very little effort. It is made with fully scalable and reusable components, so you only have to worry about creating your wonderful project.',
    link: {
        href: '#',
        label: 'Learn more'
    },
    hasBorder: false
}
%>
<%- include(`${module}/basicContent/image`, demoHomeBasicContentHeaderImageParams) %>
<!-- END: BASIC CONTENT HEADER IMAGE -->

<!-- CARROUSELS SERVICE -->
<%
const demoHomeCarrouselsServiceParams = {
    title: "What disciplines do our business integrate?",
    services: [
        {
            title: "Digital strategy",
            text: "We create competitive agility for shareholders by partnering with C-suite boards, CEOs and executives to define and answer their most strategic business questions. We take everything we do and how it impacts our customers very seriously. ",
            tag: "1",
            img: {
                src: "services_module-01",
                alt: "Service image"
            },
            link: {
                href: "#",
                label: "Learn more",
                icon: "links"
            }
        },
        {
            title: "Digital marketing",
            text: "In markets as competitive as the current ones, we must focus on real online marketing strategies that work and on strategies based on results.",
            tag: "2",
            img: {
                src: "services_module-02",
                alt: "Service image"
            },
            link: {
                href: "#",
                label: "Learn more",
                icon: "links"
            }
        },
        {
            title: "Social media",
            text: "A team with great experience in Social & Content Marketing that has worked with more than 500 social profiles for different clients simultaneously.",
            tag: "3",
            img: {
                src: "services_module-03",
                alt: "Service image"
            },
            link: {
                href: "#",
                label: "Learn more",
                icon: "links"
            }
        },
    ],
    isDarkened: true,
    isDark: false,
    hasBorder: false
}
%>
<%- include(`${module}/service/service`, demoHomeCarrouselsServiceParams) %>
<!-- END: CARROUSELS SERVICE -->

<!-- ICON DESCRIPTION -->
<%
const demoHomeIconDescriptionParams = {
    head: 'Our work methodology',
    columns: [
        {
            microillustration: {
                src: 'system',
                alt: 'system microillustration'
            },
            title: '1. Exploration phase',
            text: 'Explore new concepts, products, services, ventures, brands, and systems.'
        },
        {
            microillustration: {
                src: 'efficiency',
                alt: 'efficiency microillustration'
            },
            title: '2. Empathy phase',
            text: 'A deep understanding of the needs of the users involved in the solution.'
        },
        {
            microillustration: {
                src: 'choose-template',
                alt: 'choose template microillustration'
            },
            title: '3. Definition phase',
            text: 'Staying with what really adds value and brings us to new interesting perspectives.'
        },
        {
            microillustration: {
                src: 'fonts',
                alt: 'fonts microillustration'
            },
            title: '4. Ideation phase',
            text: 'In this phase, activities favor expansive thinking and we eliminate value judgments.'
        },
        {
            microillustration: {
                src: 'image',
                alt: 'image microillustration'
            },
            title: '5. Prototyping',
            text: 'Building prototypes makes ideas tangible and helps us visualize possible solutions.'
        },
        {
            microillustration: {
                src: 'template',
                alt: 'template microillustration'
            },
            title: '6. Testing phase',
            text: 'This phase helps us to identify significant improvements and faults to be solved.'
        },
    ],
    isDarkened: false,
    isDark: false,
    hasBorder: false
}
%>
<%- include(`${module}/iconDescription/microillustration/microillustrationDescription`, demoHomeIconDescriptionParams) %>
<!-- END: ICON DESCRIPTION -->

<!-- BUSINESS CASES -->
<%
const demoHomeBusinessCaseParams = {
    title: 'Business cases',
    text: 'Know all the brands that have successfully used our product. You will be amazed at what they have achieved in a short time.',
    link: {
        href: '#',
        label: 'See all',
        icon: 'links',
    },
    img: {
        src: 'img_business-case',
        alt: 'business case module background'
    },
    background: 'eren_500',
    slides: [
        {
            title: 'Business case 1: Brandemic',
            icon: 'award',
            subtitle: 'New brand',
            img: {
                src: 'logo-brandemic',
                alt: 'case image 1'
            },
            date: '23/03/2019',
            link: {
                href: '#',
                label: 'More info',
                icon: 'info'
            }
        },
        {
            title: 'Business case 2: B_system',
            icon: 'view-code',
            subtitle: 'Web template system',
            img: {
                src: 'logo-dark',
                alt: 'case image 2'
            },
            date: '24/03/2019',
            link: {
                href: '#',
                label: 'More info',
                icon: 'info'
            }
        },
        {
            title: 'Business case 3: Brandemic',
            icon: 'award',
            subtitle: 'New brand',
            img: {
                src: 'logo-brandemic',
                alt: 'case image 3'
            },
            date: '25/03/2019',
            link: {
                href: '#',
                label: 'More info',
                icon: 'info'
            }
        }
    ]
}
%>
<%- include( `${module}/businessCase/businessCase`, demoHomeBusinessCaseParams) %>
<!-- END: BUSINESS CASES -->

<!-- FAQ -->
<%
const accordions = [
    {
        idItem: 'item1',
        label: 'What is B_system?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
    {
        idItem: 'item2',
        label: 'In what kind of projects can I use it?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
    {
        idItem: 'item3',
        label: 'What frameworks does the system use?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
    {
        idItem: 'item4',
        label: 'How many demos does it have?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
    {
        idItem: 'item5',
        label: 'Is there any discount or promotion if I use it several times?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
    {
        idItem: 'item6',
        label: 'What programming languages ​​does it use?',
        content: 'B_system is a multipurpose HTML5 template that will help you create responsive web pages with very little effort. It is made with completely scalable and reusable components, so you only have to worry about creating your wonderful project.'
    },
]
const accordion_ids = [
    ['accordion-1', 'accordion-2', 'accordion-3', 'accordion-4', 'accordion-5', 'accordion-6'],
    ['accordion-1', 'accordion-2', 'accordion-3'],
    ['accordion-1', 'accordion-2', 'accordion-3', 'accordion-4'],
    ['accordion-1', 'accordion-2']
]
const sections = [
    {
        key: 'default',
        tab_1: 'tab-system',
        tab_2: 'tab-product',
        tab_3: 'tab-customer',
        tab_4: 'tab-commitment',
        isDarkened: false,
        isDark: false,
        hasBorder: false,
        accordion_ids
    }
]
%>
<% sections.forEach((section, index) => { %>
    <% const includeParams = {
        isDarkened: section.isDarkened,
        isDark: section.isDark,
        hasBorder: section.hasBorder,
        title: 'Frequently asked questions',
        links: [
            {
                tab: section.tab_1,
                label: 'Brand System'
            },
            {
                tab: section.tab_2,
                label: 'Product contracting'
            },
            {
                tab: section.tab_3,
                label: 'Customer Support'
            },
            {
                tab: section.tab_4,
                label: 'Our commitment'
            }
        ],
        sections: section.accordion_ids.map((sectionAccordions) => {
            return sectionAccordions.map((idAccordion, index) => ({
                ...accordions[index],
                idAccordion: `${section.key}-${idAccordion}`,
                idItem: `${section.key}-${accordions[index].idItem}`
            }))
        })
    } %>
    <%- include(`${module}/faq/faq`, includeParams) %>
<% }) %>

<!-- END: FAQ -->

<!-- CTA -->
<% const demoHomeCTAParams = {
    title: 'Do you want to start with B_system today?',
    btn: {
        label: 'Purchase B_system',
        isCTA: true,
        icon: 'links',
        iconPosition: 'after'
    },
    isDarkened: true,
    isDark: false,
    hasBorder: false
} %>
<%- include(`${module}/cta/cta`, demoHomeCTAParams ) %>
<!-- END: CTA -->

<!-- CONTACT-->
<% const demoHomeContactParams = {
    title: 'Contact us!',
    text: 'Please fill out this form to send your message:',
    contact: [
        {
            id: 'contact-name',
            label: 'Name'
        },
        {
            id: 'contact-surnames',
            label: 'Surnames'
        },
        {
            id: 'contact-email',
            label: 'Email'
        },
        {
            id: 'contact-subject',
            label: 'Subject'
        },
    ],
    textarea: {
        id: 'contact-message',
        label: 'Message'
    },
    checkboxes: [
        {
            id: 'checkbox-one',
            label: 'I authorize the treatment of my data.'
        },
    ],
    button: {
        label: 'Send',
        variant: 'tertiary'
    },
    alerts: [
        {
            icon: 'call',
            text: {
                content: 'If you have an urgent query you can call us :',
                contact: [
                    {contact: 'T. (+34) 915 805 007'},
                    {contact: 'F. (+34) 915 806 082'}
                ]
            },
            variant: 'info'
        },
        {
            icon: 'message',
            text: {
                content: 'You can also write an email to these departments and we will get back to you as soon as possible:',
                contact: [
                    {contact: 'bsystem@company.com'}
                ]
            },
            variant: 'info'
        },
        {
            link: {
                href: '#',
                label: 'Find our offices easily in our search engine',
                icon: 'place'
            },
            variant: 'link'
        },
    ],
    isDark: false,
    hasBorder: false
}
%>
<%- include(`${module}/contact/contact`, demoHomeContactParams) %>
<!-- END: CONTACT -->

<!-- FOOTER -->
<%- contentFor('footer') %>
<% const demoHomeFooterParams = {
    img: {src: 'logo-dark-gray.svg', alt: 'logo'},
    text: 'Multipurpose HTML5 template + Organic Design System. © 2021 B_system. All rights reserved.',
    link: {href: 'info@itertika.studio', label: 'info@itertika.studio', icon: 'message', iconPosition: 'before'},
    isDarkened: true,
    columns: [
        [
            {
                title: 'Company',
            },
            {
                name: 'B_system',
                href: '#'
            },
            {
                name: 'About us',
                href: '#'
            },
            {
                name: 'Our services',
                href: '#'
            },
            {
                name: 'Contact us',
                href: '#'
            },
        ],
        [
            {
                title: 'Blog'
            },
            {
                name: 'Home',
                href: '#'
            },
            {
                name: 'Most read',
                href: '#'
            },
            {
                name: 'Latest articles',
                href: '#'
            },
            {
                name: 'Article',
                href: '#'
            },
        ],
        [
            {
                title: 'Shop'
            },
            {
                name: 'Home',
                href: '#'
            },
            {
                name: "What's new?",
                href: '#'
            },
            {
                name: 'Offers',
                href: '#'
            },
            {
                name: 'Product',
                href: '#'
            },
        ],
        [
            {
                title: 'Featured demos'
            },
            {
                name: 'Startup',
                href: '#'
            },
            {
                name: 'Agency',
                href: '#'
            },
            {
                name: 'Corporative',
                href: '#'
            },
            {
                name: 'Studio',
                href: '#'
            },
        ]
    ]
} %>
<%- include(`${component}/footer/corporate`, demoHomeFooterParams) %>
<!-- END: FOOTER -->

<%- contentFor('script') %>
    const headerElement = document.querySelector('header.header')
    const img = document.querySelector('header img.logo')
    const purchaseButton = document.querySelector('header button.btn.btn-fit')
    const nav = document.querySelector('header nav.navbar > ul')
    const iconButtons = document.querySelectorAll('header .btn.btn-only-icon > i')
    let isNavActive = false
    let isHeaderTransparent = true
    let isBodyDark = false

    iconButtons.forEach(button => button.classList.add('text-light'))

    document.addEventListener(b_system.$EVENTS.ON_MOBILE_NAV_TOGGLE, (evt) => {
        const {detail: nav} = evt
        isNavActive = nav.isActive
        if (isNavActive) {
            img.src = '/assets/img/logo-dark.svg'
            headerElement.classList.add('header-light')
            iconButtons.forEach(button => button.classList.remove('text-light'))
        } else {
            if (isHeaderTransparent) {
                img.src = '/assets/img/logo-light.svg'
                headerElement.classList.remove('header-light')
                if(!isBodyDark) {
                    iconButtons.forEach(button => button.classList.add('text-light'))
                }
            }
        }
    })

    headerElement.addEventListener(b_system.$EVENTS.ON_TRANSPARENT_HEADER_CHANGE_BACKGROUND, (e) => {
        const {detail: header} = e
        const isDark = !!document.querySelector('body[data-bsystem="dark"]')

        isHeaderTransparent = header.isTransparent
        isBodyDark = isDark

        if(isNavActive) {
            headerElement.classList.add('header-light')
        }

        if (isHeaderTransparent && !isNavActive) {
            if (!isBodyDark) {
                img.src = '/assets/img/logo-light.svg'
                nav.classList.add('light-nav')
                iconButtons.forEach(button => button.classList.add('text-light'))
            }
            purchaseButton.classList.remove('btn-primary')
            purchaseButton.classList.add('btn-glass')
        } else {
            if (!isBodyDark) {
                img.src = '/assets/img/logo-dark.svg'
                headerElement.removeAttribute('data-bsystem')
                nav.classList.remove('light-nav')
                iconButtons.forEach(button => button.classList.remove('text-light'))
            }
            purchaseButton.classList.remove('btn-glass')
            purchaseButton.classList.add('btn-primary')

        }
    })